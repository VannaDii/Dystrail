use yew::prelude::*; #[derive(Properties,PartialEq,Clone)] pub struct Props{pub id:AttrValue,pub label:AttrValue, #[prop_or_default] pub error:Option<AttrValue>, children:Children} #[function_component(Field)] pub fn field(p:&Props)->Html{ let desc=p.error.as_ref().map(|_| format!("{}-err",p.id)); html!{ <div><label for={p.id.clone()}>{p.label.clone()}</label><div aria-describedby={desc.clone()}>{ for p.children.iter() }</div>{ if let Some(e)=&p.error { html!{ <p id={desc.unwrap()} role="alert">{e.clone()}</p> } } else { html!{} } }</div> } }